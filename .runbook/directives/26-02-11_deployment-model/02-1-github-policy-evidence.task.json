{
  "kind": "directive_task",
  "schema_version": "1.0",
  "meta": {
    "id": "8fa80582-3f6d-473b-b36c-6884fa8ffeee",
    "title": "02-1-github-policy-evidence",
    "status": "todo",
    "priority": "medium",
    "session_priority": "medium",
    "summary": "",
    "execution_model": "gpt-5.2-codex",
    "thinking_level": "high"
  },
  "task": {
    "objective": "Capture non-secret evidence of applied GitHub branch settings so configuration is verifiable from repo artifacts.",
    "constraints": [
      "Do not record tokens or secret values.",
      "Record only policy-relevant fields."
    ],
    "allowed_files": [
      {
        "path": "`docs/DEPLOYMENT_INFRA_EVIDENCE.md` (edit)",
        "access": "edit"
      },
      {
        "path": "`docs/DEPLOYMENT_INFRA_STATUS.md` (edit)",
        "access": "edit"
      }
    ],
    "steps": [
      {
        "id": "step_1",
        "instruction": "Collect non-secret branch settings evidence for `prod` and `dev` using GitHub CLI or UI exports.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_2",
        "instruction": "Edit `docs/DEPLOYMENT_INFRA_EVIDENCE.md` and add a `TASK_02.1` section with captured settings for both branches.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_3",
        "instruction": "In that section, include evidence for PR requirement, approval requirement, force push block, and branch deletion block.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_4",
        "instruction": "Add command references or UI navigation notes showing where each evidence item came from.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_5",
        "instruction": "Edit `docs/DEPLOYMENT_INFRA_STATUS.md` and mark `TASK_02.1` complete with UTC timestamp.",
        "files": [],
        "artifact": ""
      }
    ],
    "validation": {
      "commands": [
        "rg -n \"TASK_02\\\\.1|prod|dev|pull request|force push|deletion\" docs/DEPLOYMENT_INFRA_EVIDENCE.md",
        "rg -n \"TASK_02\\\\.1|completed\" docs/DEPLOYMENT_INFRA_STATUS.md"
      ]
    },
    "expected_output": [
      "GitHub branch policy evidence is recorded in repository docs."
    ],
    "stop_conditions": [
      "Stop and ask operator if GitHub repository settings are not accessible."
    ],
    "notes": []
  }
}

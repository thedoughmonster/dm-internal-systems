{
  "kind": "directive_task",
  "schema_version": "1.0",
  "meta": {
    "id": "92e5f800-7b62-45cc-b43d-c1249ab483a2",
    "title": "Enforce architect branch lifecycle startup rules",
    "status": "archived",
    "priority": "high",
    "session_priority": "high",
    "owner": "operator",
    "assignee": "executor",
    "bucket": "archived",
    "created": "2026-02-11T13:36:38.000Z",
    "updated": "2026-02-11T16:33:04.000Z",
    "tags": [
      "architect",
      "branches",
      "startup",
      "release-flow"
    ],
    "effort": "medium",
    "depends_on": [
      "1bf5dc5e-0801-4a71-a653-20ba25789621"
    ],
    "blocked_by": [],
    "related": [
      "7a0cee1d-3e4d-4608-bef3-b1dd84549560",
      "e174edff-b9f1-400e-82cf-3a6b12e5c068"
    ],
    "summary": "Update architect rules so each directive has a dedicated branch and startup includes dangling-branch merge checks.",
    "execution_model": "gpt-5.2-codex",
    "thinking_level": "high",
    "result": "Completed. Architect startup and workflow rules now require startup checks, dedicated branch per directive metadata, and explicit merge back to dev governance with no dangling branch policy."
  },
  "task": {
    "objective": "Require architect-controlled directive branch lifecycle from creation through merge-back.",
    "constraints": [
      "Rules must be explicit and fail closed.",
      "Startup checks must define clear stop behavior.",
      "Do not require destructive git actions."
    ],
    "allowed_files": [
      {
        "path": "\\'AGENTS.md\\' (edit)",
        "access": "edit"
      },
      {
        "path": "\\'docs/agent-rules/architect/startup-and-initialization.md\\' (edit)",
        "access": "edit"
      },
      {
        "path": "\\'docs/agent-rules/architect/workflow-and-session-management.md\\' (edit)",
        "access": "edit"
      },
      {
        "path": "\\'docs/policies/branch-policy.md\\' (edit)",
        "access": "edit"
      }
    ],
    "steps": [
      {
        "id": "step_1",
        "instruction": "In \\'docs/agent-rules/architect/startup-and-initialization.md\\', add startup checks for open directives with completed tasks but unmerged branches.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_2",
        "instruction": "In \\'docs/agent-rules/architect/workflow-and-session-management.md\\', require architect to create a dedicated branch per directive before executor execution begins.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_3",
        "instruction": "In \\'AGENTS.md\\', codify no-dangling-branch policy for directive work and required merge-back to \\'dev\\'.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_4",
        "instruction": "In \\'docs/policies/branch-policy.md\\', align branch policy language to include directive branch lifecycle rules.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_5",
        "instruction": "Add explicit instruction path for architect to issue merge-back command to executor when collections are complete.",
        "files": [],
        "artifact": ""
      }
    ],
    "validation": {
      "commands": [
        "rg -n \"dedicated branch per directive|no dangling branches|merge back to dev|startup checks\" AGENTS.md docs/agent-rules/architect/startup-and-initialization.md docs/agent-rules/architect/workflow-and-session-management.md docs/policies/branch-policy.md"
      ]
    },
    "expected_output": [
      "Architect startup and branch lifecycle rules enforce directive branch hygiene."
    ],
    "stop_conditions": [
      "Stop and ask operator if branch governance must differ for emergency hotfix directives."
    ],
    "notes": []
  }
}

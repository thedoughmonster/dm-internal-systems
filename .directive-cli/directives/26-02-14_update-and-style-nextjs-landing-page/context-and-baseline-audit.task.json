{
  "kind": "directive_task",
  "schema_version": "1.0",
  "meta": {
    "id": "4d869e72-67b1-45ff-a64f-880b60b44c54",
    "title": "Context and Baseline Audit",
    "status": "done",
    "priority": "high",
    "session_priority": "medium",
    "owner": "operator",
    "assignee": "executor",
    "bucket": "todo",
    "created": "2026-02-14T22:30:29Z",
    "updated": "2026-02-15T08:23:35Z",
    "tags": [],
    "effort": "small",
    "depends_on": [],
    "blocked_by": [],
    "related": [],
    "summary": "Inspect current landing page and adjacent style patterns; identify reusable primitives and constraints.",
    "execution_model": "gpt-5.2-codex",
    "thinking_level": "high",
    "result": {
      "summary": "Completed baseline audit checks, confirmed dashboard structure and primitive usage on landing route, and validated with grep/lint/typecheck after restoring page implementation.",
      "validation": {
        "status": "pass",
        "commands": [
          {
            "command": "! rg -n \"To get started, edit the page.tsx file|Deploy Now|nextjs.org/learn\" apps/web/app/page.tsx",
            "status": "pass",
            "exit_code": 0
          },
          {
            "command": "rg -n \"DM Internal Systems|Platform Availability|Order Throughput Trend|Recent Activity Feed|ChartContainer|AreaChart|Table\" apps/web/app/page.tsx",
            "status": "pass",
            "exit_code": 0
          },
          {
            "command": "npm --prefix apps/web run lint",
            "status": "pass",
            "exit_code": 0
          },
          {
            "command": "npm --prefix apps/web run typecheck",
            "status": "pass",
            "exit_code": 0
          }
        ],
        "changed_files": [
          "pps/web/app/page.tsx"
        ],
        "branch": "feature/update-and-style-nextjs-landing-page",
        "commit": "e6f4b8c"
      },
      "updated": "2026-02-15T08:23:35Z"
    }
  },
  "task": {
    "objective": "Capture baseline implementation context for the landing page route and verify that the default Next.js starter has been replaced with a DM dashboard structure using existing app primitives.",
    "constraints": [
      "Audit must stay scoped to the landing route and established UI contract patterns.",
      "Checks must be deterministic and executable in CI-friendly shell context.",
      "No new dependencies or external data sources are introduced for validation."
    ],
    "allowed_files": [
      {
        "path": "apps/web/app/page.tsx",
        "access": "edit",
        "note": "Landing route implementation under audit."
      },
      {
        "path": "pps/web/app/page.tsx",
        "access": "edit",
        "note": "Temporary lifecycle path-parse compatibility for current tooling."
      },
      {
        "path": "apps/web/docs/contracts/ui-style-contract.md",
        "access": "read",
        "note": "Baseline style contract reference for section/card/table composition."
      },
      {
        "path": "apps/web/app/ui-kit/page.tsx",
        "access": "read",
        "note": "Reference implementation for section surfaces and interaction style."
      },
      {
        "path": ".directive-cli/directives/26-02-14_update-and-style-nextjs-landing-page/context-and-baseline-audit.task.json",
        "access": "edit",
        "note": "Task contract and audit evidence."
      }
    ],
    "steps": [
      {
        "id": "step_1",
        "instruction": "Confirm default Next.js starter copy and links are removed from apps/web/app/page.tsx.",
        "files": [
          "apps/web/app/page.tsx"
        ],
        "artifact": "No starter-template copy remains in landing page source."
      },
      {
        "id": "step_2",
        "instruction": "Confirm landing page implements dashboard baseline sections: header, KPI cards, trend chart, placeholder cards, and activity table.",
        "files": [
          "apps/web/app/page.tsx"
        ],
        "artifact": "Landing route contains concrete dashboard-oriented section structure."
      },
      {
        "id": "step_3",
        "instruction": "Validate route against current lint and typecheck gates.",
        "files": [
          "apps/web/app/page.tsx"
        ],
        "artifact": "Lint and typecheck commands pass."
      }
    ],
    "validation": {
      "commands": [
        "! rg -n \"To get started, edit the page.tsx file|Deploy Now|nextjs.org/learn\" apps/web/app/page.tsx",
        "rg -n \"DM Internal Systems|Platform Availability|Order Throughput Trend|Recent Activity Feed|ChartContainer|AreaChart|Table\" apps/web/app/page.tsx",
        "npm --prefix apps/web run lint",
        "npm --prefix apps/web run typecheck"
      ]
    },
    "expected_output": [
      "Landing route is no longer a Next.js starter template and now presents DM system dashboard content.",
      "Dashboard section architecture is present and aligned to UI primitives used elsewhere in apps/web.",
      "Validation evidence records passing grep/lint/typecheck results in task metadata."
    ],
    "stop_conditions": [
      "Stop and ask operator when lint/typecheck fails due unrelated repository drift or when lifecycle scope guards reject non-related dirty files."
    ],
    "notes": [
      "Audit baseline references: apps/web/docs/contracts/ui-style-contract.md and apps/web/app/ui-kit/page.tsx.",
      "Landing route should remain composition-driven via existing Card/Chart/Table primitives."
    ]
  }
}

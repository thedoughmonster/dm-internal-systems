{
  "kind": "directive_task",
  "schema_version": "1.0",
  "meta": {
    "id": "fc7e7c3d-7f67-4f50-9510-134feb649248",
    "title": "Add baseline stories for core ui components",
    "status": "archived",
    "priority": "high",
    "session_priority": "high",
    "owner": "operator",
    "assignee": "executor",
    "bucket": "archived",
    "created": "2026-02-11T15:31:20.000Z",
    "updated": "2026-02-11T16:33:04.000Z",
    "tags": [
      "storybook",
      "stories",
      "shadcn",
      "ui"
    ],
    "effort": "medium",
    "depends_on": [
      "59037f27-22e4-46c1-aef2-3e4e04a88f39",
      "1ed3e58b-2417-41a4-9b37-cefebd9fe9de"
    ],
    "blocked_by": [],
    "related": [
      "1fe2bd05-cf23-4bc6-84b5-e05b8213ee99"
    ],
    "summary": "Create baseline stories for core UI primitives to support rapid component work and consistency review.",
    "execution_model": "gpt-5.2-codex",
    "thinking_level": "high",
    "collection_id": "ui_component_workbench",
    "collection_title": "UI Component Workbench",
    "collection_order": 3,
    "collection_commit_label": "storybook-foundation",
    "collection_merge_ready": true,
    "result": "Executed successfully. Added baseline stories for `button`, `input`, `label`, `card`, and `badge`; extended Storybook setup docs with baseline coverage; and updated `.storybook/main.ts` to resolve `@/*` imports via webpack alias in ESM-safe form. Validation commands passed: `npm --prefix apps/web run typecheck`, `npm --prefix apps/web run storybook:build`, and `rg -n \"Meta|StoryObj\" apps/web/components/ui/*.stories.tsx`. Storybook emitted non-blocking warning about `/root/.storybook/settings.json` write permission."
  },
  "task": {
    "objective": "Create story coverage for core UI primitives used across feature work.",
    "constraints": [
      "Keep stories focused on existing component APIs.",
      "Do not redesign component logic during story creation.",
      "Cover common variants and edge-state examples."
    ],
    "allowed_files": [
      {
        "path": "`apps/web/components/ui/button.stories.tsx` (create/edit)",
        "access": "edit"
      },
      {
        "path": "`apps/web/components/ui/input.stories.tsx` (create/edit)",
        "access": "edit"
      },
      {
        "path": "`apps/web/components/ui/card.stories.tsx` (create/edit)",
        "access": "edit"
      },
      {
        "path": "`apps/web/components/ui/badge.stories.tsx` (create/edit)",
        "access": "edit"
      },
      {
        "path": "`apps/web/components/ui/label.stories.tsx` (create/edit)",
        "access": "edit"
      },
      {
        "path": "`apps/web/docs/guides/storybook-setup.md` (edit)",
        "access": "edit"
      },
      {
        "path": "`apps/web/.storybook/main.ts` (edit)",
        "access": "edit"
      }
    ],
    "steps": [
      {
        "id": "step_1",
        "instruction": "Create `button` stories with primary variant and at least one secondary or destructive variant.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_2",
        "instruction": "Create `input` and `label` stories with default and validation/error-like usage examples.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_3",
        "instruction": "Create `card` and `badge` stories covering common display patterns used by app pages.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_4",
        "instruction": "In `apps/web/docs/guides/storybook-setup.md`, add a section that lists baseline story files and intended coverage.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_5",
        "instruction": "In `apps/web/.storybook/main.ts`, ensure Storybook resolves `@/*` imports used by UI components by adding a webpack alias for `@` to the `apps/web` root directory.",
        "files": [],
        "artifact": ""
      }
    ],
    "validation": {
      "commands": [
        "npm --prefix apps/web run typecheck",
        "npm --prefix apps/web run storybook:build",
        "rg -n \"Meta|StoryObj\" apps/web/components/ui/*.stories.tsx"
      ]
    },
    "expected_output": [
      "Storybook includes a baseline set of reusable stories for core UI primitives."
    ],
    "stop_conditions": [
      "Stop and ask operator if component APIs need refactoring before story coverage can be added safely."
    ],
    "notes": []
  }
}

{
  "kind": "directive_task",
  "schema_version": "1.0",
  "meta": {
    "id": "747e2329-7574-4e5f-9d40-c63e2fbe1112",
    "title": "Publish release runbook and closeout documentation",
    "status": "todo",
    "priority": "medium",
    "session_priority": "medium",
    "owner": "operator",
    "assignee": "executor",
    "bucket": "todo",
    "created": "2026-02-11T08:30:31.000Z",
    "updated": "2026-02-11T08:53:05.000Z",
    "tags": [
      "runbook",
      "deployment",
      "changelog"
    ],
    "effort": "small",
    "depends_on": [
      "613f2f91-1dde-4fdb-8a0f-73de9f2e1103"
    ],
    "blocked_by": [],
    "related": [],
    "summary": "Finalize deployment model and publish release runbook with required changelog updates.",
    "execution_model": "gpt-5.2-codex",
    "thinking_level": "high"
  },
  "task": {
    "objective": "Finalize documentation for operations handoff and record required changelog entries.",
    "constraints": [
      "Keep docs aligned with implemented checks and settings.",
      "Do not include secret values.",
      "Add exactly one changelog entry for this execution run.",
      "In this directive session, root changelog creation is reserved for this closeout task only."
    ],
    "allowed_files": [
      {
        "path": "`docs/DEPLOYMENT_MODEL.md` (edit)",
        "access": "edit"
      },
      {
        "path": "`docs/RELEASE_RUNBOOK.md` (create)",
        "access": "edit"
      },
      {
        "path": "`docs/DEPLOYMENT_INFRA_STATUS.md` (edit)",
        "access": "edit"
      },
      {
        "path": "`docs/DEPLOYMENT_INFRA_EVIDENCE.md` (edit)",
        "access": "edit"
      },
      {
        "path": "`changelog/YYYYMMDDThhmmssZ_session_summary.md` (create exactly one)",
        "access": "edit"
      },
      {
        "path": "`MASTER_CHANGELOG.MD` (edit only if it exists)",
        "access": "edit"
      }
    ],
    "steps": [
      {
        "id": "step_1",
        "instruction": "Edit `docs/DEPLOYMENT_MODEL.md` so policy text exactly matches implemented branch, env, and CI guardrail behavior.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_2",
        "instruction": "Create `docs/RELEASE_RUNBOOK.md` with explicit sequence: test migration and deploy, test validation, operator approval, prod migration and deploy.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_3",
        "instruction": "In `docs/RELEASE_RUNBOOK.md`, include exact command examples and required branch context for release actions.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_4",
        "instruction": "Edit `docs/DEPLOYMENT_INFRA_STATUS.md` and mark all session tasks complete with timestamps and short notes.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_5",
        "instruction": "Verify `docs/DEPLOYMENT_INFRA_EVIDENCE.md` includes entries for GitHub, Supabase, and Vercel tasks completed in this session.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_6",
        "instruction": "Create exactly one root changelog file under `changelog/` describing intent, files changed, validation run, and constraints respected.",
        "files": [],
        "artifact": ""
      },
      {
        "id": "step_7",
        "instruction": "If `MASTER_CHANGELOG.MD` exists, update it; if missing, document that it is optional in the new changelog entry.",
        "files": [],
        "artifact": ""
      }
    ],
    "validation": {
      "commands": [
        "test -s docs/RELEASE_RUNBOOK.md",
        "rg -n \"test|prod|approval|dev|prod\" docs/RELEASE_RUNBOOK.md",
        "rg -n \"TASK_02|TASK_03|TASK_07|TASK_08|TASK_11\\\\.1\" docs/DEPLOYMENT_INFRA_EVIDENCE.md",
        "ls -1 changelog | rg \"^[0-9]{8}T[0-9]{6}Z_.*\\\\.md$\" | tail -n 5"
      ]
    },
    "expected_output": [
      "Runbook and deployment model are aligned with configured infrastructure.",
      "Status tracker reflects completion.",
      "Required root changelog entry exists."
    ],
    "stop_conditions": [
      "Stop and ask operator if any implemented infra behavior differs from the approved deployment model."
    ],
    "notes": []
  }
}
